<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenZWave Library: OpenZWave::Stream Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="image003.gif"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenZWave Library
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>OpenZWave</b>      </li>
      <li class="navelem"><a class="el" href="classOpenZWave_1_1Stream.html">Stream</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">OpenZWave::Stream Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OpenZWave::Stream" --><!-- doxytag: inherits="OpenZWave::Wait" -->
<p>Platform-independent definition of a circular buffer.  
 <a href="classOpenZWave_1_1Stream.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Stream_8h_source.html">Stream.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for OpenZWave::Stream:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classOpenZWave_1_1Stream.png" usemap="#OpenZWave::Stream_map" alt=""/>
  <map id="OpenZWave::Stream_map" name="OpenZWave::Stream_map">
<area href="classOpenZWave_1_1Wait.html" title="Platform-independent definition of Wait objects." alt="OpenZWave::Wait" shape="rect" coords="94,56,273,80"/>
<area href="classOpenZWave_1_1Ref.html" alt="OpenZWave::Ref" shape="rect" coords="94,0,273,24"/>
<area href="classOpenZWave_1_1Controller.html" alt="OpenZWave::Controller" shape="rect" coords="94,168,273,192"/>
<area href="classOpenZWave_1_1HidController.html" alt="OpenZWave::HidController" shape="rect" coords="0,224,179,248"/>
<area href="classOpenZWave_1_1SerialController.html" alt="OpenZWave::SerialController" shape="rect" coords="189,224,368,248"/>
</map>
 </div></div>

<p><a href="classOpenZWave_1_1Stream-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#a3b172c240a78e90d804f957019230468">Stream</a> (uint32 _bufferSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#ac680416ca41fe6e53c3ca0ef7c6b57b8">SetSignalThreshold</a> (uint32 _size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#a05a7be342b47e0129763e8b2da7e5474">Get</a> (uint8 *_buffer, uint32 _size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#a1175ea56afcbb8f2b91b7f2e88bfb754">Put</a> (uint8 *_buffer, uint32 _size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#ad03b15cbddf7db86c2f57e28d76695ff">GetDataSize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#abc8a207bfeb630435d0871dcc323a888">Purge</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#a9bc4165ad01609110ed52f82ba37257a">LogData</a> (uint8 *_buffer, uint32 _size, string _function)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#a472cf77c9f2ac00e0342c0b81854b5ed">IsSignalled</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenZWave_1_1Stream.html#a6dc4517a9e6a87abb662fcd14c2ea969">~Stream</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26a02c284401c08fea8c843eab6f795d"></a><!-- doxytag: member="OpenZWave::Stream::Wait" ref="a26a02c284401c08fea8c843eab6f795d" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>Wait</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Platform-independent definition of a circular buffer. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3b172c240a78e90d804f957019230468"></a><!-- doxytag: member="OpenZWave::Stream::Stream" ref="a3b172c240a78e90d804f957019230468" args="(uint32 _bufferSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenZWave_1_1Stream.html#a3b172c240a78e90d804f957019230468">Stream::Stream</a> </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>_bufferSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. Creates a cross-platform ring buffer object </p>

</div>
</div>
<a class="anchor" id="a6dc4517a9e6a87abb662fcd14c2ea969"></a><!-- doxytag: member="OpenZWave::Stream::~Stream" ref="a6dc4517a9e6a87abb662fcd14c2ea969" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenZWave_1_1Stream.html#a6dc4517a9e6a87abb662fcd14c2ea969">Stream::~Stream</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor. Destroys the ring buffer object. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a05a7be342b47e0129763e8b2da7e5474"></a><!-- doxytag: member="OpenZWave::Stream::Get" ref="a05a7be342b47e0129763e8b2da7e5474" args="(uint8 *_buffer, uint32 _size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classOpenZWave_1_1Stream.html#a05a7be342b47e0129763e8b2da7e5474">Stream::Get</a> </td>
          <td>(</td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies the requested amount of data from the stream, removing it from the stream as it does so. If there is insufficient data available, the method returns false, and no data is transferred. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_buffer</td><td>pointer to a block of memory that will be filled with the stream data. </td></tr>
    <tr><td class="paramname">_size</td><td>the amount of data in bytes to copy from the stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all the requested data has been copied. False if there was not enough data in the stream. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classOpenZWave_1_1Stream.html#ad03b15cbddf7db86c2f57e28d76695ff">GetDataSize</a>, <a class="el" href="classOpenZWave_1_1Stream.html#a1175ea56afcbb8f2b91b7f2e88bfb754">Put</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad03b15cbddf7db86c2f57e28d76695ff"></a><!-- doxytag: member="OpenZWave::Stream::GetDataSize" ref="ad03b15cbddf7db86c2f57e28d76695ff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 <a class="el" href="classOpenZWave_1_1Stream.html#ad03b15cbddf7db86c2f57e28d76695ff">OpenZWave::Stream::GetDataSize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the amount of data in bytes that is stored in the stream. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of bytes of data in the stream. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classOpenZWave_1_1Stream.html#a05a7be342b47e0129763e8b2da7e5474">Get</a>, <a class="el" href="classOpenZWave_1_1Stream.html#ad03b15cbddf7db86c2f57e28d76695ff">GetDataSize</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a472cf77c9f2ac00e0342c0b81854b5ed"></a><!-- doxytag: member="OpenZWave::Stream::IsSignalled" ref="a472cf77c9f2ac00e0342c0b81854b5ed" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classOpenZWave_1_1Stream.html#a472cf77c9f2ac00e0342c0b81854b5ed">Stream::IsSignalled</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used by the <a class="el" href="classOpenZWave_1_1Wait.html" title="Platform-independent definition of Wait objects.">Wait</a> class to test whether the buffer contains sufficient data. </p>

<p>Implements <a class="el" href="classOpenZWave_1_1Wait.html#a2afde12296d4796c6f8f37ea7b8c8110">OpenZWave::Wait</a>.</p>

</div>
</div>
<a class="anchor" id="a9bc4165ad01609110ed52f82ba37257a"></a><!-- doxytag: member="OpenZWave::Stream::LogData" ref="a9bc4165ad01609110ed52f82ba37257a" args="(uint8 *_buffer, uint32 _size, string _function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenZWave_1_1Stream.html#a9bc4165ad01609110ed52f82ba37257a">Stream::LogData</a> </td>
          <td>(</td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Formats stream buffer data for output to the log. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_buffer</td><td>pointer to the stream buffer "head" location </td></tr>
    <tr><td class="paramname">_size</td><td>number of valid bytes currently in the buffer </td></tr>
    <tr><td class="paramname">_function</td><td>string containing text to display before the data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abc8a207bfeb630435d0871dcc323a888"></a><!-- doxytag: member="OpenZWave::Stream::Purge" ref="abc8a207bfeb630435d0871dcc323a888" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenZWave_1_1Stream.html#abc8a207bfeb630435d0871dcc323a888">Stream::Purge</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Empties the stream bytes held in the buffer. This is called when the library gets out of sync with the controller and sends a "NAK" to the controller. </p>

</div>
</div>
<a class="anchor" id="a1175ea56afcbb8f2b91b7f2e88bfb754"></a><!-- doxytag: member="OpenZWave::Stream::Put" ref="a1175ea56afcbb8f2b91b7f2e88bfb754" args="(uint8 *_buffer, uint32 _size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classOpenZWave_1_1Stream.html#a1175ea56afcbb8f2b91b7f2e88bfb754">Stream::Put</a> </td>
          <td>(</td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies the requested amount of data from the buffer into the stream. If there is insufficient room available in the stream's circular buffer, and no data is transferred. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_buffer</td><td>pointer to a block of memory that will be copied into the stream. </td></tr>
    <tr><td class="paramname">_size</td><td>the amount of data in bytes to copy to the stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if all the requested data has been copied. False if there was not enough space in the stream's circular buffer. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classOpenZWave_1_1Stream.html#a05a7be342b47e0129763e8b2da7e5474">Get</a>, <a class="el" href="classOpenZWave_1_1Stream.html#ad03b15cbddf7db86c2f57e28d76695ff">GetDataSize</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac680416ca41fe6e53c3ca0ef7c6b57b8"></a><!-- doxytag: member="OpenZWave::Stream::SetSignalThreshold" ref="ac680416ca41fe6e53c3ca0ef7c6b57b8" args="(uint32 _size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classOpenZWave_1_1Stream.html#ac680416ca41fe6e53c3ca0ef7c6b57b8">Stream::SetSignalThreshold</a> </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the number of bytes the buffer must contain before it becomes signalled. Once the threshold is set, the application can use <a class="el" href="classOpenZWave_1_1Wait.html#a2bcab5ff66e5b880569c24c0fe307d76">Wait::Single</a> or <a class="el" href="classOpenZWave_1_1Wait.html#a2a9f3b0e718a0ff3d4ff2a8858ac1da5">Wait::Multiple</a> to wait until the buffer has been filled with the desired amount of data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">_size</td><td>the amoutn of data in bytes that the buffer must contain for it to become signalled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classOpenZWave_1_1Wait.html#a2bcab5ff66e5b880569c24c0fe307d76">Wait::Single</a>, <a class="el" href="classOpenZWave_1_1Wait.html#a2a9f3b0e718a0ff3d4ff2a8858ac1da5">Wait::Multiple</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>cpp/src/platform/<a class="el" href="Stream_8h_source.html">Stream.h</a></li>
<li>cpp/src/platform/Stream.cpp</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 15 2013 16:00:19 for OpenZWave Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
