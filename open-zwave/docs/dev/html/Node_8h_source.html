<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenZWave Library: cpp/src/Node.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="image003.gif"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenZWave Library
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">cpp/src/Node.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">//  Node.h</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">//  A node in the Z-Wave network</span>
<a name="l00006"></a>00006 <span class="comment">//</span>
<a name="l00007"></a>00007 <span class="comment">//  Copyright (c) 2010 Mal Lansell &lt;openzwave@lansell.org&gt;</span>
<a name="l00008"></a>00008 <span class="comment">//</span>
<a name="l00009"></a>00009 <span class="comment">//  SOFTWARE NOTICE AND LICENSE</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">//  This file is part of OpenZWave.</span>
<a name="l00012"></a>00012 <span class="comment">//</span>
<a name="l00013"></a>00013 <span class="comment">//  OpenZWave is free software: you can redistribute it and/or modify</span>
<a name="l00014"></a>00014 <span class="comment">//  it under the terms of the GNU Lesser General Public License as published</span>
<a name="l00015"></a>00015 <span class="comment">//  by the Free Software Foundation, either version 3 of the License,</span>
<a name="l00016"></a>00016 <span class="comment">//  or (at your option) any later version.</span>
<a name="l00017"></a>00017 <span class="comment">//</span>
<a name="l00018"></a>00018 <span class="comment">//  OpenZWave is distributed in the hope that it will be useful,</span>
<a name="l00019"></a>00019 <span class="comment">//  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00020"></a>00020 <span class="comment">//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00021"></a>00021 <span class="comment">//  GNU Lesser General Public License for more details.</span>
<a name="l00022"></a>00022 <span class="comment">//</span>
<a name="l00023"></a>00023 <span class="comment">//  You should have received a copy of the GNU Lesser General Public License</span>
<a name="l00024"></a>00024 <span class="comment">//  along with OpenZWave.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00025"></a>00025 <span class="comment">//</span>
<a name="l00026"></a>00026 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef _Node_H</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define _Node_H</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;Defs.h&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;ValueID.h&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;ValueList.h&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;Msg.h&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;TimeStamp.h&quot;</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="keyword">class </span>TiXmlElement;
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">namespace </span>OpenZWave
<a name="l00044"></a>00044 {
<a name="l00045"></a>00045     <span class="keyword">class </span>CommandClass;
<a name="l00046"></a>00046     <span class="keyword">class </span>Driver;
<a name="l00047"></a>00047     <span class="keyword">class </span>Group;
<a name="l00048"></a>00048     <span class="keyword">class </span>ValueStore;
<a name="l00049"></a>00049     <span class="keyword">class </span>Value;
<a name="l00050"></a>00050     <span class="keyword">class </span>ValueBool;
<a name="l00051"></a>00051     <span class="keyword">class </span>ValueButton;
<a name="l00052"></a>00052     <span class="keyword">class </span>ValueByte;
<a name="l00053"></a>00053     <span class="keyword">class </span>ValueDecimal;
<a name="l00054"></a>00054     <span class="keyword">class </span>ValueInt;
<a name="l00055"></a>00055     <span class="keyword">class </span>ValueSchedule;
<a name="l00056"></a>00056     <span class="keyword">class </span>ValueShort;
<a name="l00057"></a>00057     <span class="keyword">class </span>ValueString;
<a name="l00058"></a>00058     <span class="keyword">class </span>Mutex;
<a name="l00059"></a>00059 
<a name="l00063"></a><a class="code" href="classOpenZWave_1_1Node.html">00063</a>     <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Node.html" title="The Node class describes a Z-Wave node object...typically a device on the Z-Wave network.">Node</a>
<a name="l00064"></a>00064     {
<a name="l00065"></a>00065         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Manager.html" title="The main public interface to OpenZWave.">Manager</a>;
<a name="l00066"></a>00066         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Driver.html" title="The Driver class handles communication between OpenZWave and a device attached via a serial port (typ...">Driver</a>;
<a name="l00067"></a>00067         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Group.html" title="Manages a group of devices (various nodes associated with each other).">Group</a>;
<a name="l00068"></a>00068         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Value.html" title="Base class for values associated with a node.">Value</a>;
<a name="l00069"></a>00069         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ValueButton.html" title="Button value ???.">ValueButton</a>;
<a name="l00070"></a>00070         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Alarm.html" title="Implements COMMAND_CLASS_ALARM (0x71), a Z-Wave device command class.">Alarm</a>;
<a name="l00071"></a>00071         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Association.html" title="Implements COMMAND_CLASS_ASSOCIATION (0x85), a Z-Wave device command class.">Association</a>;
<a name="l00072"></a>00072         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1AssociationCommandConfiguration.html" title="Implements COMMAND_CLASS_ASSOCIATION_COMMAND_CONFIGURATION (0x9b), a Z-Wave device command class...">AssociationCommandConfiguration</a>;
<a name="l00073"></a>00073         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Basic.html" title="Implements COMMAND_CLASS_BASIC (0x20), a Z-Wave device command class.">Basic</a>;
<a name="l00074"></a>00074         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Battery.html" title="Implements COMMAND_CLASS_BATTERY (0x80), a Z-Wave device command class.">Battery</a>;
<a name="l00075"></a>00075         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ClimateControlSchedule.html" title="Implements COMMAND_CLASS_CLIMATE_CONTROL_SCHEDULE (0x46), a Z-Wave device command class...">ClimateControlSchedule</a>;
<a name="l00076"></a>00076         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Clock.html" title="Implements COMMAND_CLASS_CLOCK (0x81), a Z-Wave device command class.">Clock</a>;
<a name="l00077"></a>00077         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1CommandClass.html" title="Base class for all Z-Wave command classes.">CommandClass</a>;
<a name="l00078"></a>00078         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ControllerReplication.html" title="Implements COMMAND_CLASS_CONTROLLER_REPLICATION (0x21), a Z-Wave device command class.">ControllerReplication</a>;
<a name="l00079"></a>00079         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1EnergyProduction.html" title="Implements COMMAND_CLASS_ENERGY_PRODUCTION (0x90), a Z-Wave device command class.">EnergyProduction</a>;
<a name="l00080"></a>00080         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Hail.html" title="Implements COMMAND_CLASS_HAIL (0x82), a Z-Wave device command class.">Hail</a>;
<a name="l00081"></a>00081         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Indicator.html" title="Implements COMMAND_CLASS_INDICATOR (0x87), a Z-Wave device command class.">Indicator</a>;
<a name="l00082"></a>00082         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Language.html" title="Implements COMMAND_CLASS_LANGUAGE (0x89), a Z-Wave device command class.">Language</a>;
<a name="l00083"></a>00083         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Lock.html" title="Implements COMMAND_CLASS_LOCK (0x76), a Z-Wave device command class.">Lock</a>;
<a name="l00084"></a>00084         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ManufacturerSpecific.html" title="Implements COMMAND_CLASS_MANUFACTURER_SPECIFIC (0x72), a Z-Wave device command class.">ManufacturerSpecific</a>;
<a name="l00085"></a>00085         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Meter.html" title="Implements COMMAND_CLASS_METER (0x32), a Z-Wave device command class.">Meter</a>;
<a name="l00086"></a>00086         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1MeterPulse.html" title="Implements COMMAND_CLASS_METER_PULSE (0x35), a Z-Wave device command class.">MeterPulse</a>;
<a name="l00087"></a>00087         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1MultiInstance.html" title="Implements COMMAND_CLASS_MULTI_INSTANCE (0x60), a Z-Wave device command class.">MultiInstance</a>;
<a name="l00088"></a>00088         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1NodeNaming.html" title="Implements COMMAND_CLASS_NODE_NAMING (0x77), a Z-Wave device command class.">NodeNaming</a>;
<a name="l00089"></a>00089         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Protection.html" title="Implements COMMAND_CLASS_PROTECTION (0x75), a Z-Wave device command class.">Protection</a>;
<a name="l00090"></a>00090         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1SensorAlarm.html" title="Implements COMMAND_CLASS_SENSOR_ALARM (0x9c), a Z-Wave device command class.">SensorAlarm</a>;
<a name="l00091"></a>00091         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1SensorBinary.html" title="Implements COMMAND_CLASS_SENSOR_BINARY (0x30), a Z-Wave device command class.">SensorBinary</a>;
<a name="l00092"></a>00092         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1SensorMultilevel.html" title="Implements COMMAND_CLASS_SENSOR_MULTILEVEL (0x31), a Z-Wave device command class.">SensorMultilevel</a>;
<a name="l00093"></a>00093         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1SwitchAll.html" title="Implements COMMAND_CLASS_SWITCH_ALL (0x27), a Z-Wave device command class.">SwitchAll</a>;
<a name="l00094"></a>00094         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1SwitchBinary.html" title="Implements COMMAND_CLASS_SWITCH_BINARY (0x25), a Z-Wave device command class.">SwitchBinary</a>;
<a name="l00095"></a>00095         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1SwitchMultilevel.html" title="Implements COMMAND_CLASS_SWITCH_MULTILEVEL (0x26), a Z-Wave device command class.">SwitchMultilevel</a>;
<a name="l00096"></a>00096         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1SwitchToggleBinary.html" title="Implements COMMAND_CLASS_SWITCH_TOGGLE_BINARY (0x28), a Z-Wave device command class.">SwitchToggleBinary</a>;
<a name="l00097"></a>00097         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1SwitchToggleMultilevel.html" title="Implements COMMAND_CLASS_SWITCH_TOGGLE_MULTILEVEL (0x29), a Z-Wave device command class...">SwitchToggleMultilevel</a>;
<a name="l00098"></a>00098         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ThermostatFanMode.html" title="Implements COMMAND_CLASS_THERMOSTAT_FAN_MODE (0x44), a Z-Wave device command class.">ThermostatFanMode</a>;
<a name="l00099"></a>00099         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ThermostatFanState.html" title="Implements COMMAND_CLASS_THERMOSTAT_FAN_STATE (0x45), a Z-Wave device command class.">ThermostatFanState</a>;
<a name="l00100"></a>00100         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ThermostatMode.html" title="Implements COMMAND_CLASS_THERMOSTAT_MODE (0x40), a Z-Wave device command class.">ThermostatMode</a>;
<a name="l00101"></a>00101         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ThermostatOperatingState.html" title="Implements COMMAND_CLASS_THERMOSTAT_OPERATING_STATE (0x42), a Z-Wave device command class...">ThermostatOperatingState</a>;
<a name="l00102"></a>00102         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1ThermostatSetpoint.html" title="Implements COMMAND_CLASS_THERMOSTAT_SETPOINT (0x43), a Z-Wave device command class.">ThermostatSetpoint</a>;
<a name="l00103"></a>00103         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1Version.html" title="Implements COMMAND_CLASS_VERSION (0x86), a Z-Wave device command class.">Version</a>;
<a name="l00104"></a>00104         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOpenZWave_1_1WakeUp.html" title="Implements COMMAND_CLASS_WAKE_UP (0x84), a Z-Wave device command class.">WakeUp</a>;
<a name="l00105"></a>00105 
<a name="l00106"></a>00106     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00107"></a>00107     <span class="comment">// Construction</span>
<a name="l00108"></a>00108     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00109"></a>00109     <span class="keyword">public</span>:
<a name="l00115"></a>00115         <a class="code" href="classOpenZWave_1_1Node.html#a775523df49362cc8c0813bd49ce3b4de">Node</a>( uint32 <span class="keyword">const</span> _homeId, uint8 <span class="keyword">const</span> _nodeId );
<a name="l00118"></a>00118         <span class="keyword">virtual</span> <a class="code" href="classOpenZWave_1_1Node.html#aa0840c3cb5c7159be6d992adecd2097c">~Node</a>();
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     <span class="keyword">private</span>:
<a name="l00124"></a>00124         <a class="code" href="classOpenZWave_1_1Driver.html" title="The Driver class handles communication between OpenZWave and a device attached via a serial port (typ...">Driver</a>* GetDriver()<span class="keyword">const</span>;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00127"></a>00127     <span class="comment">// Initialization</span>
<a name="l00128"></a>00128     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00129"></a>00129     <span class="keyword">public</span>:
<a name="l00130"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220">00130</a>         <span class="keyword">enum</span> <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220">QueryStage</a>                                                     
<a name="l00131"></a>00131         {
<a name="l00132"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a54ff1ba736bef4a59ea1721fd8e3905f">00132</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a54ff1ba736bef4a59ea1721fd8e3905f">QueryStage_ProtocolInfo</a>,                
<a name="l00133"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a71bd1cee17d35a4e8c4991ec1a7ed6e9">00133</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a71bd1cee17d35a4e8c4991ec1a7ed6e9">QueryStage_Probe</a>,                   
<a name="l00134"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a87a4ffb24ab80acab215e47826d4494d">00134</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a87a4ffb24ab80acab215e47826d4494d">QueryStage_WakeUp</a>,                  
<a name="l00135"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220abdc474edac667ab7b589dada65112240">00135</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220abdc474edac667ab7b589dada65112240">QueryStage_ManufacturerSpecific1</a>,           
<a name="l00136"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a598b1c3a5fc1bb88fdc8ae80318c0ab9">00136</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a598b1c3a5fc1bb88fdc8ae80318c0ab9">QueryStage_NodeInfo</a>,                    
<a name="l00137"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220aa3a50d395dc2303f476fcbd1732643dd">00137</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220aa3a50d395dc2303f476fcbd1732643dd">QueryStage_ManufacturerSpecific2</a>,           
<a name="l00138"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220ad75ff94cc8ed8283cb5728689283bc55">00138</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220ad75ff94cc8ed8283cb5728689283bc55">QueryStage_Versions</a>,                    
<a name="l00139"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220aab39d5d4b3237b261e99fcf31408bda5">00139</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220aab39d5d4b3237b261e99fcf31408bda5">QueryStage_Instances</a>,                   
<a name="l00140"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a93a07b5984787793f3ff1c6b04fde731">00140</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a93a07b5984787793f3ff1c6b04fde731">QueryStage_Static</a>,                  
<a name="l00141"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a355de499d113c6290a7ec88b1637556b">00141</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a355de499d113c6290a7ec88b1637556b">QueryStage_Probe1</a>,                  
<a name="l00142"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220affcbe208cdbe1e1140171484a2d52daf">00142</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220affcbe208cdbe1e1140171484a2d52daf">QueryStage_Associations</a>,                
<a name="l00143"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a6c9cf4b67b20a7b31d2775b3dc75b749">00143</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a6c9cf4b67b20a7b31d2775b3dc75b749">QueryStage_Neighbors</a>,                   
<a name="l00144"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a1d8f2079513571ed8fe6c10a84d0bede">00144</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a1d8f2079513571ed8fe6c10a84d0bede">QueryStage_Session</a>,                 
<a name="l00145"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a752be00ac43341f1f9849111fc0e2062">00145</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a752be00ac43341f1f9849111fc0e2062">QueryStage_Dynamic</a>,                 
<a name="l00146"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220aff97e57798bd7f4dbfc49538a69bbd20">00146</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220aff97e57798bd7f4dbfc49538a69bbd20">QueryStage_Configuration</a>,               
<a name="l00147"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a40fc00c4849edc2957041ada734d9121">00147</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a40fc00c4849edc2957041ada734d9121">QueryStage_Complete</a>,                    
<a name="l00148"></a><a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220af8d61cd4e2016d081b5a914612803ff6">00148</a>             <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220af8d61cd4e2016d081b5a914612803ff6">QueryStage_None</a>                     
<a name="l00149"></a>00149         };
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 
<a name="l00168"></a>00168         <span class="keywordtype">void</span> <a class="code" href="classOpenZWave_1_1Node.html#aebc5832be8f2b2c02f43d8da3391bb01">AdvanceQueries</a>();
<a name="l00169"></a>00169 
<a name="l00176"></a>00176         <span class="keywordtype">void</span> <a class="code" href="classOpenZWave_1_1Node.html#a600338db22385029a6996e73190e3d0f">QueryStageComplete</a>( <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220">QueryStage</a> <span class="keyword">const</span> _stage );
<a name="l00177"></a>00177 
<a name="l00185"></a>00185         <span class="keywordtype">void</span> <a class="code" href="classOpenZWave_1_1Node.html#a3797e270b48acaf7063feea9cb3badb2">QueryStageRetry</a>( <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220">QueryStage</a> <span class="keyword">const</span> _stage, uint8 <span class="keyword">const</span> _maxAttempts = 0 );      <span class="comment">// maxAttempts of zero means no limit</span>
<a name="l00186"></a>00186 
<a name="l00193"></a>00193         <span class="keywordtype">void</span> <a class="code" href="classOpenZWave_1_1Node.html#afce557e6cdedfa35a1a7af9a4c6d0c3a">SetQueryStage</a>( <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220">QueryStage</a> <span class="keyword">const</span> _stage, <span class="keywordtype">bool</span> <span class="keyword">const</span> _advance = <span class="keyword">true</span> );
<a name="l00194"></a>00194 
<a name="l00200"></a><a class="code" href="classOpenZWave_1_1Node.html#ae33a30165409fdff33e61b1c634b4608">00200</a>         <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220">Node::QueryStage</a> <a class="code" href="classOpenZWave_1_1Node.html#ae33a30165409fdff33e61b1c634b4608">GetCurrentQueryStage</a>() { <span class="keywordflow">return</span> m_queryStage; }
<a name="l00201"></a>00201 
<a name="l00208"></a>00208         <span class="keywordtype">string</span> <a class="code" href="classOpenZWave_1_1Node.html#a6b9e002d4fb7d199be3d84116de40138">GetQueryStageName</a>( <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220">QueryStage</a> <span class="keyword">const</span> _stage );
<a name="l00209"></a>00209 
<a name="l00214"></a><a class="code" href="classOpenZWave_1_1Node.html#a21e63e34d327b1a93695bf770aca496e">00214</a>         <span class="keywordtype">bool</span> <a class="code" href="classOpenZWave_1_1Node.html#a21e63e34d327b1a93695bf770aca496e">IsNodeAlive</a>()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_nodeAlive; }
<a name="l00215"></a>00215 
<a name="l00229"></a>00229         <span class="keywordtype">void</span> <a class="code" href="classOpenZWave_1_1Node.html#a0bdd9ac260f20257b5c673ced70632bb">UpdateProtocolInfo</a>( uint8 <span class="keyword">const</span>* _data );
<a name="l00230"></a>00230         <span class="keywordtype">void</span> UpdateNodeInfo( uint8 <span class="keyword">const</span>* _data, uint8 <span class="keyword">const</span> _length );
<a name="l00231"></a>00231 
<a name="l00232"></a>00232         <span class="keywordtype">bool</span> ProtocolInfoReceived()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_protocolInfoReceived; }
<a name="l00233"></a>00233         <span class="keywordtype">bool</span> NodeInfoReceived()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_nodeInfoReceived; }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235         <span class="keywordtype">bool</span> AllQueriesCompleted()<span class="keyword">const</span>{ <span class="keywordflow">return</span>( <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220a40fc00c4849edc2957041ada734d9121">QueryStage_Complete</a> == m_queryStage ); }
<a name="l00236"></a>00236 
<a name="l00242"></a>00242         <span class="keywordtype">void</span> <a class="code" href="classOpenZWave_1_1Node.html#a34e6d07c57cf89c7fe8c01308ccd73a0">SetNodeAlive</a>( <span class="keywordtype">bool</span> <span class="keyword">const</span> _isAlive );
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="keyword">private</span>:
<a name="l00245"></a>00245         <span class="keywordtype">void</span> SetStaticRequests();
<a name="l00246"></a>00246 
<a name="l00247"></a>00247         <a class="code" href="classOpenZWave_1_1Node.html#a8c740c962a9230d840984ca644e1f220">QueryStage</a>  m_queryStage;
<a name="l00248"></a>00248         <span class="keywordtype">bool</span>        m_queryPending;
<a name="l00249"></a>00249         <span class="keywordtype">bool</span>        m_queryConfiguration;
<a name="l00250"></a>00250         uint8       m_queryRetries;
<a name="l00251"></a>00251         <span class="keywordtype">bool</span>        m_protocolInfoReceived;
<a name="l00252"></a>00252         <span class="keywordtype">bool</span>        m_nodeInfoReceived;
<a name="l00253"></a>00253         <span class="keywordtype">bool</span>        m_manufacturerSpecificClassReceived;
<a name="l00254"></a>00254         <span class="keywordtype">bool</span>        m_nodeInfoSupported;
<a name="l00255"></a>00255         <span class="keywordtype">bool</span>        m_nodeAlive;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00258"></a>00258     <span class="comment">// Capabilities</span>
<a name="l00259"></a>00259     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00260"></a>00260     <span class="keyword">public</span>:
<a name="l00261"></a>00261         <span class="comment">// Security flags</span>
<a name="l00262"></a>00262         <span class="keyword">enum</span>
<a name="l00263"></a>00263         {
<a name="l00264"></a>00264             SecurityFlag_Security               = 0x01,
<a name="l00265"></a>00265             SecurityFlag_Controller             = 0x02,
<a name="l00266"></a>00266             SecurityFlag_SpecificDevice         = 0x04,
<a name="l00267"></a>00267             SecurityFlag_RoutingSlave           = 0x08,
<a name="l00268"></a>00268             SecurityFlag_BeamCapability         = 0x10,
<a name="l00269"></a>00269             SecurityFlag_Sensor250ms            = 0x20,
<a name="l00270"></a>00270             SecurityFlag_Sensor1000ms           = 0x40,
<a name="l00271"></a>00271             SecurityFlag_OptionalFunctionality      = 0x80
<a name="l00272"></a>00272         };
<a name="l00273"></a>00273 
<a name="l00274"></a>00274         <span class="comment">// Node Ids</span>
<a name="l00275"></a>00275         <span class="keyword">enum</span>
<a name="l00276"></a>00276         {
<a name="l00277"></a>00277             NodeBroadcast = 0xff
<a name="l00278"></a>00278         };
<a name="l00279"></a>00279 
<a name="l00280"></a>00280         <span class="keywordtype">bool</span> IsListeningDevice()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_listening; }
<a name="l00281"></a>00281         <span class="keywordtype">bool</span> IsFrequentListeningDevice()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_frequentListening; }
<a name="l00282"></a>00282         <span class="keywordtype">bool</span> IsBeamingDevice()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_beaming; }
<a name="l00283"></a>00283         <span class="keywordtype">bool</span> IsRoutingDevice()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_routing; }
<a name="l00284"></a>00284         <span class="keywordtype">bool</span> IsSecurityDevice()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_security; }
<a name="l00285"></a>00285         uint32 GetMaxBaudRate()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_maxBaudRate; }
<a name="l00286"></a>00286         uint8 GetVersion()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_version; }
<a name="l00287"></a>00287         uint8 GetSecurity()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_security; }
<a name="l00288"></a>00288         
<a name="l00289"></a>00289         uint8 GetNodeId()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_nodeId; }
<a name="l00290"></a>00290         
<a name="l00291"></a>00291         uint8 GetBasic()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_basic; }
<a name="l00292"></a>00292         uint8 GetGeneric()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_generic; }
<a name="l00293"></a>00293         uint8 GetSpecific()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_specific; }
<a name="l00294"></a>00294         <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; GetType()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_type; }  
<a name="l00295"></a>00295         uint32 GetNeighbors( uint8** o_associations );
<a name="l00296"></a>00296         <span class="keywordtype">bool</span> IsController()<span class="keyword">const</span>{ <span class="keywordflow">return</span> ( m_basic == 0x01 || m_basic == 0x02 ) &amp;&amp; ( m_generic == 0x01 || m_generic == 0x02 ); }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298     <span class="keyword">private</span>:
<a name="l00299"></a>00299         <span class="keywordtype">bool</span>        m_listening;
<a name="l00300"></a>00300         <span class="keywordtype">bool</span>        m_frequentListening;
<a name="l00301"></a>00301         <span class="keywordtype">bool</span>        m_beaming;
<a name="l00302"></a>00302         <span class="keywordtype">bool</span>        m_routing;
<a name="l00303"></a>00303         uint32      m_maxBaudRate;
<a name="l00304"></a>00304         uint8       m_version;
<a name="l00305"></a>00305         <span class="keywordtype">bool</span>        m_security;
<a name="l00306"></a>00306         uint32      m_homeId;
<a name="l00307"></a>00307         uint8       m_nodeId;
<a name="l00308"></a>00308         uint8       m_basic;        <span class="comment">//*&lt; Basic device class (0x01-Controller, 0x02-Static Controller, 0x03-Slave, 0x04-Routing Slave</span>
<a name="l00309"></a>00309         uint8       m_generic;
<a name="l00310"></a>00310         uint8       m_specific;
<a name="l00311"></a>00311         <span class="keywordtype">string</span>      m_type;         <span class="comment">// Label representing the specific/generic/basic value</span>
<a name="l00312"></a>00312         uint8       m_neighbors[29];    <span class="comment">// Bitmask containing the neighbouring nodes</span>
<a name="l00313"></a>00313         uint8       m_numRouteNodes;    <span class="comment">// number of node routes</span>
<a name="l00314"></a>00314         uint8       m_routeNodes[5];    <span class="comment">// nodes to route to</span>
<a name="l00315"></a>00315         map&lt;uint8,uint8&gt;    m_buttonMap;    <span class="comment">// Map button IDs into virtual node numbers</span>
<a name="l00316"></a>00316 
<a name="l00317"></a>00317     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00318"></a>00318     <span class="comment">// Device Naming</span>
<a name="l00319"></a>00319     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00320"></a>00320     <span class="keyword">private</span>:
<a name="l00321"></a>00321         <span class="comment">// Manufacturer, Product and Name are stored here so they can be set by the</span>
<a name="l00322"></a>00322         <span class="comment">// user even if the device does not support the relevant command classes.</span>
<a name="l00323"></a>00323         <span class="keywordtype">string</span> GetManufacturerName()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_manufacturerName; }
<a name="l00324"></a>00324         <span class="keywordtype">string</span> GetProductName()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_productName; }   
<a name="l00325"></a>00325         <span class="keywordtype">string</span> GetNodeName()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_nodeName; } 
<a name="l00326"></a>00326         <span class="keywordtype">string</span> GetLocation()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_location; } 
<a name="l00327"></a>00327 
<a name="l00328"></a>00328         <span class="keywordtype">string</span> GetManufacturerId()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_manufacturerId; }
<a name="l00329"></a>00329         <span class="keywordtype">string</span> GetProductType()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_productType; }   
<a name="l00330"></a>00330         <span class="keywordtype">string</span> GetProductId()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_productId; }   
<a name="l00331"></a>00331 
<a name="l00332"></a>00332         <span class="keywordtype">void</span> SetManufacturerName( <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _manufacturerName ){ m_manufacturerName = _manufacturerName; }
<a name="l00333"></a>00333         <span class="keywordtype">void</span> SetProductName( <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _productName ){ m_productName = _productName; }
<a name="l00334"></a>00334         <span class="keywordtype">void</span> SetNodeName( <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _nodeName );
<a name="l00335"></a>00335         <span class="keywordtype">void</span> SetLocation( <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _location );
<a name="l00336"></a>00336 
<a name="l00337"></a>00337         <span class="keywordtype">void</span> SetManufacturerId( <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _manufacturerId ){ m_manufacturerId = _manufacturerId; }
<a name="l00338"></a>00338         <span class="keywordtype">void</span> SetProductType( <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _productType ){ m_productType = _productType; }
<a name="l00339"></a>00339         <span class="keywordtype">void</span> SetProductId( <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _productId ){ m_productId = _productId; }
<a name="l00340"></a>00340         
<a name="l00341"></a>00341         <span class="keywordtype">string</span>      m_manufacturerName;
<a name="l00342"></a>00342         <span class="keywordtype">string</span>      m_productName;
<a name="l00343"></a>00343         <span class="keywordtype">string</span>      m_nodeName;
<a name="l00344"></a>00344         <span class="keywordtype">string</span>      m_location;
<a name="l00345"></a>00345 
<a name="l00346"></a>00346         <span class="keywordtype">string</span>      m_manufacturerId;
<a name="l00347"></a>00347         <span class="keywordtype">string</span>      m_productType;
<a name="l00348"></a>00348         <span class="keywordtype">string</span>      m_productId;
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00351"></a>00351     <span class="comment">// Command Classes</span>
<a name="l00352"></a>00352     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00353"></a>00353     <span class="keyword">public</span>:
<a name="l00360"></a>00360         CommandClass* <a class="code" href="classOpenZWave_1_1Node.html#a1c2df18845e06f1de88d185d3c628f4c">GetCommandClass</a>( uint8 <span class="keyword">const</span> _commandClassId )<span class="keyword">const</span>;
<a name="l00361"></a>00361         <span class="keywordtype">void</span> ApplicationCommandHandler( uint8 <span class="keyword">const</span>* _data );
<a name="l00362"></a>00362 
<a name="l00363"></a>00363     <span class="keyword">private</span>:
<a name="l00373"></a>00373         CommandClass* AddCommandClass( uint8 <span class="keyword">const</span> _commandClassId );
<a name="l00380"></a>00380         <span class="keywordtype">void</span> RemoveCommandClass( uint8 <span class="keyword">const</span> _commandClassId );
<a name="l00381"></a>00381         <span class="keywordtype">void</span> ReadXML( TiXmlElement <span class="keyword">const</span>* _nodeElement );
<a name="l00382"></a>00382         <span class="keywordtype">void</span> ReadDeviceProtocolXML( TiXmlElement <span class="keyword">const</span>* _ccsElement );
<a name="l00383"></a>00383         <span class="keywordtype">void</span> ReadCommandClassesXML( TiXmlElement <span class="keyword">const</span>* _ccsElement );
<a name="l00384"></a>00384         <span class="keywordtype">void</span> WriteXML( TiXmlElement* _nodeElement );
<a name="l00385"></a>00385 
<a name="l00386"></a>00386         map&lt;uint8,CommandClass*&gt;        m_commandClassMap;  
<a name="l00388"></a>00388     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00389"></a>00389     <span class="comment">// Basic commands (helpers that go through the basic command class)</span>
<a name="l00390"></a>00390     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00391"></a>00391     <span class="keyword">public</span>:
<a name="l00392"></a>00392         <span class="keywordtype">void</span> SetLevel( uint8 <span class="keyword">const</span> _level );
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00395"></a>00395     <span class="comment">// On/Off commands (helpers that go through the basic or switchall command class)</span>
<a name="l00396"></a>00396     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00397"></a>00397     <span class="keyword">public</span>:
<a name="l00398"></a>00398         <span class="keywordtype">void</span> SetNodeOn();
<a name="l00399"></a>00399         <span class="keywordtype">void</span> SetNodeOff();
<a name="l00400"></a>00400 
<a name="l00401"></a>00401     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00402"></a>00402     <span class="comment">// Values (handled by the command classes)</span>
<a name="l00403"></a>00403     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00404"></a>00404     <span class="keyword">public</span>:
<a name="l00405"></a>00405         ValueID CreateValueID( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <a class="code" href="classOpenZWave_1_1ValueID.html#a219b3db5db3d9ba422003edf4a16d06e">ValueID::ValueType</a> <span class="keyword">const</span> _type );
<a name="l00406"></a>00406 
<a name="l00407"></a>00407         Value* GetValue( ValueID <span class="keyword">const</span>&amp; _id );
<a name="l00408"></a>00408         Value* GetValue( uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex );
<a name="l00409"></a>00409         <span class="keywordtype">bool</span> RemoveValue( uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex );
<a name="l00410"></a>00410 
<a name="l00411"></a>00411         <span class="comment">// Helpers for creating values</span>
<a name="l00412"></a>00412         <span class="keywordtype">bool</span> CreateValueBool( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _default, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00413"></a>00413         <span class="keywordtype">bool</span> CreateValueButton( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00414"></a>00414         <span class="keywordtype">bool</span> CreateValueByte( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, uint8 <span class="keyword">const</span> _default, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00415"></a>00415         <span class="keywordtype">bool</span> CreateValueDecimal( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _default, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00416"></a>00416         <span class="keywordtype">bool</span> CreateValueInt( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, int32 <span class="keyword">const</span> _default, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00417"></a>00417         <span class="keywordtype">bool</span> CreateValueList( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, uint8 <span class="keyword">const</span> _size, vector&lt;ValueList::Item&gt; <span class="keyword">const</span>&amp; _items, int32 <span class="keyword">const</span> _default, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00418"></a>00418         <span class="keywordtype">bool</span> CreateValueRaw( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, uint8 <span class="keyword">const</span>* _default, uint8 <span class="keyword">const</span> _length, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00419"></a>00419         <span class="keywordtype">bool</span> CreateValueSchedule( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00420"></a>00420         <span class="keywordtype">bool</span> CreateValueShort( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, int16 <span class="keyword">const</span> _default, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00421"></a>00421         <span class="keywordtype">bool</span> CreateValueString( <a class="code" href="classOpenZWave_1_1ValueID.html#af0360f2b3ecbb70dc9ab89ca74f7f305">ValueID::ValueGenre</a> <span class="keyword">const</span> _genre, uint8 <span class="keyword">const</span> _commandClassId, uint8 <span class="keyword">const</span> _instance, uint8 <span class="keyword">const</span> _valueIndex, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _label, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _units, <span class="keywordtype">bool</span> <span class="keyword">const</span> _readOnly, <span class="keywordtype">bool</span> <span class="keyword">const</span> _writeOnly, <span class="keywordtype">string</span> <span class="keyword">const</span>&amp; _default, uint8 <span class="keyword">const</span> _pollIntensity );
<a name="l00422"></a>00422 
<a name="l00423"></a>00423         <span class="comment">// helpers for removing values</span>
<a name="l00424"></a>00424         <span class="keywordtype">void</span> RemoveValueList( ValueList* _value );
<a name="l00425"></a>00425 
<a name="l00426"></a>00426         <span class="keywordtype">void</span> ReadValueFromXML( uint8 <span class="keyword">const</span> _commandClassId, TiXmlElement <span class="keyword">const</span>* _valueElement );
<a name="l00427"></a>00427         <span class="keywordtype">bool</span> CreateValueFromXML( uint8 <span class="keyword">const</span> _commandClassId, TiXmlElement <span class="keyword">const</span>* _valueElement );
<a name="l00428"></a>00428 
<a name="l00429"></a>00429     <span class="keyword">private</span>:
<a name="l00430"></a>00430         ValueStore* GetValueStore()<span class="keyword">const</span>{ <span class="keywordflow">return</span> m_values; }
<a name="l00431"></a>00431 
<a name="l00432"></a>00432         ValueStore* m_values;           <span class="comment">// Values reported via command classes</span>
<a name="l00433"></a>00433 
<a name="l00434"></a>00434     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00435"></a>00435     <span class="comment">// Configuration Parameters (handled by the Configuration command class)</span>
<a name="l00436"></a>00436     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00437"></a>00437     <span class="keyword">private</span>:
<a name="l00438"></a>00438         <span class="keywordtype">bool</span> SetConfigParam( uint8 <span class="keyword">const</span> _param, int32 _value, uint8 <span class="keyword">const</span> _size );
<a name="l00439"></a>00439         <span class="keywordtype">void</span> RequestConfigParam( uint8 <span class="keyword">const</span> _param );
<a name="l00440"></a>00440         <span class="keywordtype">bool</span> RequestAllConfigParams( uint32 <span class="keyword">const</span> _requestFlags );
<a name="l00441"></a>00441 
<a name="l00442"></a>00442     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00443"></a>00443     <span class="comment">// Dynamic Values (used by query and other command classes for updating)</span>
<a name="l00444"></a>00444     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00445"></a>00445     <span class="keyword">private</span>:
<a name="l00446"></a>00446         <span class="keywordtype">bool</span> RequestDynamicValues();
<a name="l00447"></a>00447     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00448"></a>00448     <span class="comment">// Groups</span>
<a name="l00449"></a>00449     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00450"></a>00450     <span class="keyword">private</span>:        
<a name="l00451"></a>00451         <span class="comment">// The public interface is provided via the wrappers in the Manager class</span>
<a name="l00452"></a>00452         uint8 GetNumGroups();
<a name="l00453"></a>00453         uint32 GetAssociations( uint8 <span class="keyword">const</span> _groupIdx, uint8** o_associations );
<a name="l00454"></a>00454         uint8 GetMaxAssociations( uint8 <span class="keyword">const</span> _groupIdx );
<a name="l00455"></a>00455         <span class="keywordtype">string</span> GetGroupLabel( uint8 <span class="keyword">const</span> _groupIdx );
<a name="l00456"></a>00456         <span class="keywordtype">void</span> AddAssociation( uint8 <span class="keyword">const</span> _groupIdx, uint8 <span class="keyword">const</span> _targetNodeId );
<a name="l00457"></a>00457         <span class="keywordtype">void</span> RemoveAssociation( uint8 <span class="keyword">const</span> _groupIdx, uint8 <span class="keyword">const</span> _targetNodeId );
<a name="l00458"></a>00458         <span class="keywordtype">void</span> AutoAssociate();
<a name="l00459"></a>00459 
<a name="l00460"></a>00460         <span class="comment">// The following methods are not exposed</span>
<a name="l00461"></a>00461         Group* GetGroup( uint8 <span class="keyword">const</span> _groupIdx );                           <span class="comment">// Get a pointer to a Group object.  This must only be called while holding the node Lock.</span>
<a name="l00462"></a>00462         <span class="keywordtype">void</span> AddGroup( Group* _group );                                     <span class="comment">// The groups are fixed properties of a device, so there is no need for a matching RemoveGroup.</span>
<a name="l00463"></a>00463         <span class="keywordtype">void</span> WriteGroups( TiXmlElement* _associationsElement );             <span class="comment">// Write the group data out to XNL</span>
<a name="l00464"></a>00464 
<a name="l00465"></a>00465         map&lt;uint8,Group*&gt; m_groups;                                         <span class="comment">// Maps group indices to Group objects.</span>
<a name="l00466"></a>00466 
<a name="l00467"></a>00467     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00468"></a>00468     <span class="comment">// Device Classes (static data read from the device_classes.xml file)</span>
<a name="l00469"></a>00469     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00470"></a>00470     <span class="keyword">private</span>:
<a name="l00471"></a>00471         <span class="comment">// Container for device class info</span>
<a name="l00472"></a>00472         <span class="keyword">class </span>DeviceClass
<a name="l00473"></a>00473         {
<a name="l00474"></a>00474         <span class="keyword">public</span>:
<a name="l00475"></a>00475             DeviceClass( TiXmlElement <span class="keyword">const</span>* _el );
<a name="l00476"></a>00476             ~DeviceClass(){ <span class="keyword">delete</span> [] m_mandatoryCommandClasses; }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478             uint8 <span class="keyword">const</span>*    GetMandatoryCommandClasses(){ <span class="keywordflow">return</span> m_mandatoryCommandClasses; }
<a name="l00479"></a>00479             uint8           GetBasicMapping(){ <span class="keywordflow">return</span> m_basicMapping; }
<a name="l00480"></a>00480             <span class="keywordtype">string</span> <span class="keyword">const</span>&amp;   GetLabel(){ <span class="keywordflow">return</span> m_label; }
<a name="l00481"></a>00481 
<a name="l00482"></a>00482         <span class="keyword">private</span>:
<a name="l00483"></a>00483             uint8*          m_mandatoryCommandClasses;                      <span class="comment">// Zero terminated array of mandatory command classes for this device type.</span>
<a name="l00484"></a>00484             uint8           m_basicMapping;                                 <span class="comment">// Command class that COMMAND_CLASS_BASIC maps on to, or zero if there is no mapping.</span>
<a name="l00485"></a>00485             <span class="keywordtype">string</span>          m_label;                                        <span class="comment">// Descriptive label for the device.</span>
<a name="l00486"></a>00486         };
<a name="l00487"></a>00487 
<a name="l00488"></a>00488         <span class="comment">// Container for generic device class info</span>
<a name="l00489"></a>00489         <span class="keyword">class </span>GenericDeviceClass : <span class="keyword">public</span> DeviceClass
<a name="l00490"></a>00490         {
<a name="l00491"></a>00491         <span class="keyword">public</span>:
<a name="l00492"></a>00492             GenericDeviceClass( TiXmlElement <span class="keyword">const</span>* _el );
<a name="l00493"></a>00493             ~GenericDeviceClass();
<a name="l00494"></a>00494 
<a name="l00495"></a>00495             DeviceClass* GetSpecificDeviceClass( uint8 <span class="keyword">const</span>&amp; _specific );
<a name="l00496"></a>00496 
<a name="l00497"></a>00497         <span class="keyword">private</span>:
<a name="l00498"></a>00498             map&lt;uint8,DeviceClass*&gt; m_specificDeviceClasses;
<a name="l00499"></a>00499         };
<a name="l00500"></a>00500 
<a name="l00501"></a>00501 
<a name="l00502"></a>00502         <span class="keywordtype">bool</span> SetDeviceClasses( uint8 <span class="keyword">const</span> _basic, uint8 <span class="keyword">const</span> _generic, uint8 <span class="keyword">const</span> _specific );   <span class="comment">// Set the device class data for the node</span>
<a name="l00503"></a>00503         <span class="keywordtype">bool</span> AddMandatoryCommandClasses( uint8 <span class="keyword">const</span>* _commandClasses );                            <span class="comment">// Add mandatory command classes as specified in the device_classes.xml to the node.</span>
<a name="l00504"></a>00504         <span class="keywordtype">void</span> ReadDeviceClasses();                                                                   <span class="comment">// Read the static device class data from the device_classes.xml file</span>
<a name="l00505"></a>00505         <span class="keywordtype">string</span> GetEndPointDeviceClassLabel( uint8 <span class="keyword">const</span> _generic, uint8 <span class="keyword">const</span> _specific );
<a name="l00506"></a>00506 
<a name="l00507"></a>00507         <span class="keyword">static</span> <span class="keywordtype">bool</span>                             s_deviceClassesLoaded;      <span class="comment">// True if the xml file has alreayd been loaded</span>
<a name="l00508"></a>00508         <span class="keyword">static</span> map&lt;uint8,string&gt;                s_basicDeviceClasses;       <span class="comment">// Map of basic device classes.</span>
<a name="l00509"></a>00509         <span class="keyword">static</span> map&lt;uint8,GenericDeviceClass*&gt;   s_genericDeviceClasses;     <span class="comment">// Map of generic device classes.</span>
<a name="l00510"></a>00510 
<a name="l00511"></a>00511     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00512"></a>00512     <span class="comment">//  Statistics</span>
<a name="l00513"></a>00513     <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00514"></a>00514     <span class="keyword">public</span>:
<a name="l00515"></a><a class="code" href="structOpenZWave_1_1Node_1_1CommandClassData.html">00515</a>         <span class="keyword">struct </span><a class="code" href="structOpenZWave_1_1Node_1_1CommandClassData.html">CommandClassData</a>
<a name="l00516"></a>00516         {
<a name="l00517"></a>00517             uint8 m_commandClassId;
<a name="l00518"></a>00518             uint32 m_sentCnt;
<a name="l00519"></a>00519             uint32 m_receivedCnt;
<a name="l00520"></a>00520         };
<a name="l00521"></a>00521 
<a name="l00522"></a><a class="code" href="structOpenZWave_1_1Node_1_1NodeData.html">00522</a>         <span class="keyword">struct </span><a class="code" href="structOpenZWave_1_1Node_1_1NodeData.html">NodeData</a>
<a name="l00523"></a>00523         {
<a name="l00524"></a>00524             uint32 m_sentCnt;
<a name="l00525"></a>00525             uint32 m_sentFailed;
<a name="l00526"></a>00526             uint32 m_retries;
<a name="l00527"></a>00527             uint32 m_receivedCnt;
<a name="l00528"></a>00528             uint32 m_receivedDups;
<a name="l00529"></a>00529             uint32 m_receivedUnsolicited;
<a name="l00530"></a>00530             <span class="keywordtype">string</span> m_sentTS;
<a name="l00531"></a>00531             <span class="keywordtype">string</span> m_receivedTS;
<a name="l00532"></a>00532             uint32 m_lastRequestRTT;
<a name="l00533"></a>00533             uint32 m_averageRequestRTT;             <span class="comment">// ms</span>
<a name="l00534"></a>00534             uint32 m_lastResponseRTT;
<a name="l00535"></a>00535             uint32 m_averageResponseRTT;
<a name="l00536"></a>00536             uint8 m_quality;                    <span class="comment">// Node quality measure</span>
<a name="l00537"></a>00537             uint8 m_lastReceivedMessage[254];
<a name="l00538"></a>00538             list&lt;CommandClassData&gt; m_ccData;
<a name="l00539"></a>00539         };
<a name="l00540"></a>00540 
<a name="l00541"></a>00541     <span class="keyword">private</span>:
<a name="l00542"></a>00542         <span class="keywordtype">void</span> GetNodeStatistics( <a class="code" href="structOpenZWave_1_1Node_1_1NodeData.html">NodeData</a>* _data );
<a name="l00543"></a>00543 
<a name="l00544"></a>00544         uint32 m_sentCnt;               <span class="comment">// Number of messages sent from this node.</span>
<a name="l00545"></a>00545         uint32 m_sentFailed;                <span class="comment">// Number of sent messages failed</span>
<a name="l00546"></a>00546         uint32 m_retries;               <span class="comment">// Number of message retries</span>
<a name="l00547"></a>00547         uint32 m_receivedCnt;               <span class="comment">// Number of messages received from this node.</span>
<a name="l00548"></a>00548         uint32 m_receivedDups;              <span class="comment">// Number of duplicated messages received;</span>
<a name="l00549"></a>00549         uint32 m_receivedUnsolicited;           <span class="comment">// Number of messages received unsolicited</span>
<a name="l00550"></a>00550         uint32 m_lastRequestRTT;            <span class="comment">// Last message request RTT</span>
<a name="l00551"></a>00551         uint32 m_lastResponseRTT;           <span class="comment">// Last message response RTT</span>
<a name="l00552"></a>00552         <a class="code" href="classOpenZWave_1_1TimeStamp.html" title="Implements a platform-independent TimeStamp.">TimeStamp</a> m_sentTS;             <span class="comment">// Last message sent time</span>
<a name="l00553"></a>00553         <a class="code" href="classOpenZWave_1_1TimeStamp.html" title="Implements a platform-independent TimeStamp.">TimeStamp</a> m_receivedTS;             <span class="comment">// Last message received time</span>
<a name="l00554"></a>00554         uint32 m_averageRequestRTT;         <span class="comment">// Average Request round trip time.</span>
<a name="l00555"></a>00555         uint32 m_averageResponseRTT;            <span class="comment">// Average Reponse round trip time.</span>
<a name="l00556"></a>00556         uint8 m_quality;                <span class="comment">// Node quality measure</span>
<a name="l00557"></a>00557         uint8 m_lastReceivedMessage[254];       <span class="comment">// Place to hold last received message</span>
<a name="l00558"></a>00558         uint8 m_errors;                 <span class="comment">// Count errors for dead node detection</span>
<a name="l00559"></a>00559     };
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 } <span class="comment">//namespace OpenZWave</span>
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 <span class="preprocessor">#endif //_Node_H</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 15 2013 16:00:17 for OpenZWave Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
